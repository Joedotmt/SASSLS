<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>San Andrea Library</title>
   <script src="/js-sdk-0.19.0/dist/pocketbase.umd.js"></script>
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto Mono">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet" href="fresh.css">
   <link rel="icon" type="image/x-icon" href="SASLIB_logo.png">
</head>

<body class="green_dark">
   <button id="dpdb_add_button_FAKE" class="iriiririr9">
      <div style="transform: scaleX(1) scaleY(1); display: flex; transition: 0.7s cubic-bezier(0.36, 0.01, 0.27, 0.97);"
         id="iirirri9i49">
         <span style="user-select: none; font-size: 1.5em; margin: 0.2em;"
            class="button_icon material-symbols-outlined">
            library_add
         </span>
         <div style="align-content: space-around; text-wrap: nowrap;">
            Lend book
         </div>
      </div>
   </button>


   <!--

   <dialog
      style="display: flex; border-radius: 0.5em; padding-bottom: 1em; box-shadow: 0 0 6px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5); background: var(--color-background);"
      id="select_subject_dialog">
      <div style="margin: 0.6em; width: 11em;">
         Subjects:
         <hr>
      </div>

      <div>
         <button onclick="select_subject_dialog.dataset.value = 'Non-Fiction'"
            class="dropdown_button">Non-Fiction</button>
         <button onclick="select_subject_dialog.dataset.value = 'Melitensia'"
            class="dropdown_button">Melitensia</button>
         <button onclick="select_subject_dialog.dataset.value = 'Reference'" class="dropdown_button">Reference</button>
         <button onclick="select_subject_dialog.dataset.value = 'Poetry and Plays'" class="dropdown_button">Poetry and
            Plays</button>
         <button onclick="select_subject_dialog.dataset.value = 'Graphic Novels'" class="dropdown_button">Graphic
            Novels</button>
         <button onclick="select_subject_dialog.dataset.value = 'Fiction'" class="dropdown_button">Fiction</button>
      </div>

      <div>
         <button onclick="select_subject_dialog.dataset.value = 'Spanish RES'" class="dropdown_button">Spanish
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Social Sciences RES'" class="dropdown_button">Social
            Sciences RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Religion RES'" class="dropdown_button">Religion
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Phydics RES'" class="dropdown_button">Phydics
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'PE RES'" class="dropdown_button">PE RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Maths RES'" class="dropdown_button">Maths RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Malti RES'" class="dropdown_button">Malti RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Italian RES'" class="dropdown_button">Italian
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Hospitality RES'" class="dropdown_button">Hospitality
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'History RES'" class="dropdown_button">History
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Geography RES'" class="dropdown_button">Geography
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'General Science RES'" class="dropdown_button">General
            Science RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'French RES'" class="dropdown_button">French
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'English RES'" class="dropdown_button">English
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Education RES'" class="dropdown_button">Education
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Economics RES'" class="dropdown_button">Economics
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Drama RES'" class="dropdown_button">Drama RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Design & Technology RES'"
            class="dropdown_button">Design & Technology RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Computing RES'" class="dropdown_button">Computing
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Chemistry RES'" class="dropdown_button">Chemistry
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Art RES'" class="dropdown_button">Art RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Accounts RES'" class="dropdown_button">Accounts
            RES</button>
         <button onclick="select_subject_dialog.dataset.value = 'Biology RES'" class="dropdown_button">Biology
            RES</button>
      </div>
   </dialog>



   <dialog
      style="border-radius: 0.5em; padding-bottom: 1em; box-shadow: 0 0 6px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5); background: var(--color-background);"
      id="select_book_level_dialog">
      <div style="margin: 0.6em; width: 11em;">
         Levels:
         <hr>
      </div>

      <button onclick="select_level_dialog.dataset.value = 'Red'" class="dropdown_button">Red</button>
      <button onclick="select_level_dialog.dataset.value = 'Green'" class="dropdown_button">Green</button>
      <button onclick="select_level_dialog.dataset.value = 'Blue'" class="dropdown_button">Blue</button>
      <button onclick="select_level_dialog.dataset.value = 'Yellow'" class="dropdown_button">Yellow</button>
      <button onclick="select_level_dialog.dataset.value = 'Brown'" class="dropdown_button">Brown</button>
   </dialog>

-->


   <dialog class="j95r4ji5r bigdialog" id="add_book_to_borrow_dialog">
      <div style="    display: flex;
      height: 100%;
      width: 100%;
      flex-direction: column;" id="add_book_to_borrow_dialog_container">
         <div style="    display: flex;
         margin-top: 0.4em;
         align-items: center;">
            <button onclick="close_lend_book_dialog()" style="width: 40px; height: 40px; border: 0"
               class="button_circle">
               <span class="material-symbols-outlined">
                  close
               </span>
            </button>
            <div style="text-wrap: nowrap; font-size: 1.2em; margin-left: 0.3em;">Lend book to borrower</div>
         </div>
      </div>
   </dialog>

   <dialog style="padding: 1em;" id="close_unsaved">
      <div style="padding: 1rem 11rem 3rem 1rem; font-size: 1.2em;">Discard draft?</div>
      <div style=" display: flex; justify-content: flex-end;"> <button onclick="close_unsaved.close()"
            style="margin-right: 0.1em; border: 0;">Cancel</button> <button onclick="
                     swap_display_area_mode_to_display(); 
                     close_unsaved.close();
                     if (book_edit_button.dataset.currentid == 'creation') 
                     {
                        if (nextid_book == '')
                        {
                           swap_display_area_mode_to_none()
                           create_button.style.background = ''
                        }
                        else
                        {
                           clickHandler(nextid_book);
                        }
                     } 
                     else 
                     {
                        if (nextid_book == '')
                        {
                           clickHandler(book_edit_button.dataset.currentid);
                        }
                        else if (nextid_book == 'creation')
                        {
                           clickHandler_create();
                        }
                        else
                        {
                           clickHandler(nextid_book);
                        }
                     }" style="border: 0;">Discard</button> </div>
   </dialog>


   <dialog style="padding: 1em;" id="close_unsaved_borrower">
      <div style="padding: 1rem 11rem 3rem 1rem; font-size: 1.2em;">Discard draft?</div>
      <div style=" display: flex; justify-content: flex-end;"> <button onclick="close_unsaved_borrower.close()"
            style="margin-right: 0.1em; border: 0;">Cancel</button> <button onclick="swap_display_area_mode_borrower_to_display(); 
                     close_unsaved_borrower.close(); 
                     if (edit_button_borrower.dataset.currentid == 'creation') 
                     {
                        if (nextid_borrower == '')
                        {
                           swap_display_area_mode_borrower_to_none()
                           create_borrower_button.style.background = ''
                        }
                        else
                        {
                           clickHandler_borrower(nextid_borrower);
                        }
                     } 
                     else 
                     {
                        if (nextid_borrower == '')
                        {
                           clickHandler_borrower(edit_button_borrower.dataset.currentid);
                        }
                        else if (nextid_borrower == 'creation')
                        {
                           clickHandler_borrower_create();
                        }
                        else
                        {
                           clickHandler_borrower(nextid_borrower);
                        }
                     }" style="border: 0;">Discard</button> </div>
   </dialog>



   <dialog id="migration_id_confirmation_dialog">
      <div
         style="background: var(--color-surface-1); padding: 3vw; display: flex; flex-direction: column; align-items: center; width: fit-content; height: fit-content; margin: auto; border-radius: 1em;">
         <img style="height: calc(100vh - 13em); width: auto; margin-bottom: 1em;" id="ir040jr098"
            src="3429jr9.svg"></img>
         <div style="display: flex;"> <button onclick="migration_id_confirmation_dialog.close();"
               style="margin-right: 0.5em;">Cancel</button>
            <button style="margin-right: 1em;"
               onclick="migration_id_confirmation_dialog.close(); deprecate_book_id(book_edit_button.dataset.currentid)"
               class="dialog_button_accept">Migrate</button>
         </div>
      </div>
   </dialog>
   <dialog style="height: fit-content; width: min(93vw, 60em); margin: auto; border-radius: 2em; padding: 1vw;"
      id="sign_in_dialog">
      <div style="margin: min(3vw,1em);">
         <div class="h9854h45g">
            <div>
               <img src="SASLIB_logo.png" class="logo_image" style="height: 5em; width: 5em; opacity: 0.8;"
                  alt="SAS Logo">
               <h1 style="margin: 0;">Sign in</h1>
               <h4 style="margin: 0; margin-bottom: 3em; font-weight: normal;">with your school email</h4>
            </div>
            <form>
               <div style="display: flex; margin: 0;">
                  <div style="width: 100%" class="input-container">
                     <input style=" text-align: right; padding-right: 9.9em; margin-right: 0; width: 100%;"
                        class="input-google" id="email_input" autocomplete="email" type="email"> <label
                        style="background-color: var(--color-surface-5);" class="input_placeholder">Email</label>
                  </div>
                  <label
                     style=" margin: auto; margin-left: 0em; font-size: 1.3em; width: 0px; position: relative; left: -11em; color: var(--color-on-background); opacity: 0.7;">@sanandrea.edu.mt</label>
               </div>
               <div style="display: flex; margin-top: 1em;">
                  <div class="input-container">
                     <input class="input-google" id="password_input" autocomplete="current-password" type="password">
                     <label style="background-color: var(--color-surface-5);" class="input_placeholder">Password</label>
                  </div>
               </div>
            </form>
         </div>
         <div style=" display: flex; flex-direction: row-reverse; margin-top: 1em;"> <button
               class="dialog_button_accept">Sign in</button> <button onclick="sign_in_dialog.close()"
               style="margin-right: 1em; border-color: transparent;">Cancel</button> </div>
      </div>
   </dialog>
   <dialog style="font-size: 2.6vw;" onclose="collection_change()" id="theme_dialog">
      <div style="background-color: var(--color-surface-1);width: 100%;height: 3.4em;">
         <div style="display: flex;">
            <button class="button_circle" onclick="theme_dialog.close()"
               style=" width: 40px; height: 40px; border-color: transparent; position: relative; top: 0.3em; left: 0.3em;">
               <span class="material-symbols-outlined"> done </span> </button>
            <div style=" margin: 8.4px; font-size: 1.4em;">Change Theme</div>
         </div>
      </div>
      <div style=" display: flex; flex-direction: row-reverse; margin: 1em; position: absolute; bottom: 0; right: 0;">
         <button class="dialog_button_accept" onclick="theme_dialog.close()"> Save </button> <button
            onclick="theme_dialog.close()" style="border-color: transparent; margin-right: 1em;"> Save </button>
      </div>
   </dialog>
   <dialog class="account_dialog" id="account_dialog">
      <button style=" margin: 0.7em; border: none; width: 40px; height: 40px; margin-bottom: 0;" class="button_circle"
         onclick="account_dialog.close()"> <span class="material-symbols-outlined"> close </span> </button>
      <div
         style=" background: var(--color-surface-1); border-radius: 1.5em; margin-top: 0.5em; margin-left: 0.5em; margin-right: 0.5em; margin-bottom: 0.5em; overflow: hidden; height: 18em; ">
         <button class="list_button"> <span class="button_icon material-symbols-outlined"> settings </span> account
            settings </button> <button onclick="sign_in_dialog.showModal()"
            style=" background: var(--color-primary-80); border-color: transparent; margin-left: auto; color: black; margin-right: auto; width: 8em;">
            <span class="button_icon material-symbols-outlined"> login </span> Sign in </button>
      </div>
      <button onclick="document.getElementById('theme_dialog').showModal();" id="theme_dialog_button"
         class="list_button">
         <span class="button_icon material-symbols-outlined">
            palette
         </span>
         Theme Colours
      </button>
      <button onclick="window.location.href = 'book_migration.html'" class="list_button">
         <span class="button_icon material-symbols-outlined">
            book
         </span>
         Book Migration
      </button>
      <button class="button_circle" onclick="change_dark_light_theme()"> <span id="dark_mode_switcher_icon"
            class="material-symbols-outlined"> light_mode </span> </button>
   </dialog>



















   <div class="top_bar panel">
      <div style="display: flex; align-items: center;" class="site_logo">
         <button class="button_circle" onclick="logo_easter_egg()"
            style="padding:0; height: auto; width: auto; border-width: 0;"> <img src="SASLIB_logo.png"
               class="logo_image" style="height: 3em; width: 3em; opacity: 0.8;" alt="SAS Logo"> </button>
         <div style="font-weight: 600;" id="logo_text" class="logo_text">Library</div>
      </div>
      <div style=" width: 100%; display: flex; flex-direction: row-reverse; align-items: center;">
         <button class="button_circle" id="account_button" onclick="open_account_dialog()"
            style="padding: 0; border-width: 0;"> <span class="material-symbols-outlined"
               style="font-size: 2.8em; z-index: 1; font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;">
               account_circle </span> </button>
         <select id="collection_select"
            onchange="window.location.hash = document.getElementById('collection_select').value"
            style=" width: 10em; margin: 0.2em; font-size: 18px;">
            <option value="books">Books</option>
            <option value="borrowers">Borrowers</option>
            <option value="prints">Printing</option>
            <option value="transactions">Transactions</option>
         </select>
      </div>
   </div>





































































   <div style="display: none;" id="container_book" class="container">
      <div id="search_area" class="search_area panel">

         <dialog
            style="border-radius: 0.5em; padding-bottom: 1em; box-shadow: 0 0 6px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5); background: var(--color-background);"
            id="search_filter_select_dialog">
            <div style="margin: 0.6em; width: 11em;">
               Filter by:
               <hr>
            </div>

            <button onclick="filter_select_dialog_location.show()" class="dropdown_button">Location</button>
            <button onclick="select_subject_dialog.show()" class="dropdown_button">Subject</button>
            <button onclick="select_book_level_dialog_search.show()" class="dropdown_button">Level</button>
            <button onclick="filter_select_dialog_id_type.show()" class="dropdown_button">Id Type</button>
         </dialog>

         <dialog
            style="border-radius: 0.5em; padding-bottom: 1em; box-shadow: 0 0 6px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5); background: var(--color-background);"
            id="filter_select_dialog_location">
            <div style="margin: 0.6em; width: 11em;">
               Locations:
               <hr>
            </div>

            <button onclick="add_book_filter('location','shelf')" class="dropdown_button">In Shelf</button>
            <button onclick="add_book_filter('location','borrowing')" class="dropdown_button">Borrowing</button>
            <button onclick="add_book_filter('location','lost')" class="dropdown_button">Lost</button>
            <button onclick="add_book_filter('location','scrapped')" class="dropdown_button">Scrapped</button>
         </dialog>

         <dialog
            style="border-radius: 0.5em; padding-bottom: 1em; box-shadow: 0 0 6px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5), inset 0 0 0px 1px rgba(0, 0, 0, 0.5); background: var(--color-background);"
            id="select_book_level_dialog_search">
            <div style="margin: 0.6em; width: 11em;">
               Levels:
               <hr>
            </div>

            <button onclick="add_book_filter('level','Red');" class="dropdown_button">Red</button>
            <button onclick="add_book_filter('level','Green');" class="dropdown_button">Green</button>
            <button onclick="add_book_filter('level','Blue');" class="dropdown_button">Blue</button>
            <button onclick="add_book_filter('level','Yellow');" class="dropdown_button">Yellow</button>
            <button onclick="add_book_filter('level','Brown');" class="dropdown_button">Brown</button>
         </dialog>

         <button style="width: fit-content; margin-bottom: 10em;" onclick="search_filter_select_dialog.show()">Add
            Filter
         </button>


         <div style="margin-bottom: 10em;"></div>
         <!--
         <div style="height: 2.8em;" class="accordian">
            <button data-open="false" onclick="
               if (this.dataset.open == 'true')
               {
                  this.dataset.open = 'false'
                  this.parentElement.style.height = '2.8em'
                  this.style.background = '';
                  this.childNodes[3].style.rotate = '0deg';
               }
               else
               {
                  this.dataset.open = 'true'
                  this.parentElement.style.height = '11em'
                  this.style.background = 'var(--color-ref-neutral-100)';
                  this.childNodes[3].style.rotate = '180deg';
               }
               " class="accordian_button">
               <div>Location</div>
               <span style="margin: auto; transition: 0.5s cubic-bezier(0.075, 0.82, 0.165, 1); margin-right: 0;"
                  class="material-symbols-outlined">
                  expand_more
               </span>
            </button>
            <div style="margin: 1em;     margin: 1em;
            display: flex;
            flex-wrap: wrap;">
               <button class="toggle_chip">Lost</button>
               <button class="toggle_chip">Scrapped</button>
               <button class="toggle_chip">In Shelf</button>
               <button class="toggle_chip">Borrowing</button>
            </div>
         </div>

         <div style="height: 2.8em;" class="accordian">
            <button data-open="false" onclick="
               if (this.dataset.open == 'true')
               {
                  this.dataset.open = 'false'
                  this.parentElement.style.height = '2.8em'
                  this.style.background = '';
                  this.childNodes[3].style.rotate = '0deg';
               }
               else
               {
                  this.dataset.open = 'true'
                  this.parentElement.style.height = '11em'
                  this.style.background = 'var(--color-ref-neutral-100)';
                  this.childNodes[3].style.rotate = '180deg';
               }
               " class="accordian_button">
               <div>Level</div>
               <span style="margin: auto; transition: 0.5s cubic-bezier(0.075, 0.82, 0.165, 1); margin-right: 0;"
                  class="material-symbols-outlined">
                  expand_more
               </span>
            </button>
            <div style="margin: 1em;     margin: 1em;
            display: flex;
            flex-wrap: wrap;">
               <button class="toggle_chip">Brown</button>
               <button class="toggle_chip">Yellow</button>
               <button class="toggle_chip">Blue</button>
               <button class="toggle_chip">Green</button>
               <button class="toggle_chip">Red</button>
            </div>
         </div>

         <div style="height: 2.8em; margin-bottom: 2em;" class="accordian">
            <button data-open="false" onclick="
               if (this.dataset.open == 'true')
               {
                  this.dataset.open = 'false'
                  this.parentElement.style.height = '2.8em'
                  this.style.background = '';
                  this.childNodes[3].style.rotate = '0deg';
               }
               else
               {
                  this.dataset.open = 'true'
                  this.parentElement.style.height = '20em'
                  this.style.background = 'var(--color-ref-neutral-100)';
                  this.childNodes[3].style.rotate = '180deg';
               }
               " class="accordian_button">
               <div>Subject</div>
               <span style="margin: auto; transition: 0.5s cubic-bezier(0.075, 0.82, 0.165, 1); margin-right: 0;"
                  class="material-symbols-outlined">
                  expand_more
               </span>
            </button>
            <div class="book_subject_accordian"
               style="    overflow-y: scroll;
               overflow-x: hidden;
               margin: 1em;
               height: 15em;
               width: fit-content;
               display: flex;
               flex-wrap: wrap;">

            </div>
         </div>-->




         <div style="display: flex;">
            <div class="input-container">
               <select onchange="list_books()" id="j54f9954j" style="width: 100%;" type="text" class="input-google">
                  <option value="created">Created</option>
                  <option value="title">Title</option>
                  <option value="updated">Updated</option>
                  <option value="price">Price</option>
               </select>
               <label class="input_placeholder infni04fjif">Sort by</label>
            </div>
            <button id="search_sortby_ascending_book" data-ascending="-" onclick="search_sortby_ascending_book_change()"
               style="border-radius: 0.4em; margin: 0px 0px 0px 0.5em; height: auto; width: 3em;" class="button_circle">
               <span id="on4ir4r0943" style="rotate: 0deg; transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1);"
                  class="material-symbols-outlined">arrow_upward</span> </button>
         </div>
         <div style="margin-bottom: 1em; flex-basis: 8em; margin-top: 1em;" class="input-container">
            <select onchange="list_books()" id="subject_search_select_shadow" style="width: 100%;" type="text"
               class="input-google">
               <optgroup style="font-size: 0;" id="kej0f4jj05" label=""></optgroup>
               <optgroup style="font-size: 1px;" id="kj0f4jj05" label=""></optgroup>
               <optgroup id="nv9tuni9" label="Resources"></optgroup>
            </select>
            <label class="input_placeholder infni04fjif">Subject</label>
         </div>
         <div style="margin-bottom: 1em;" class="input-container">
            <select onchange="list_books()" style="width: 100%;" id="book_level_search_select" type="text"
               class="input-google">
               <option value="all">Any</option>
            </select>
            <label class="input_placeholder infni04fjif">Level</label>
         </div>

         <div style="margin-bottom: 1em;" class="input-container">
            <select onchange="list_books()" style="width: 100%;" id="book_location_search_select" type="text"
               class="input-google">
               <option value="all">Any</option>
               <option value="all">Lost</option>
               <option value="all">Scrapped</option>
               <option value="all">In Shelf</option>
               <option value="all">Borrowing</option>
            </select>
            <label class="input_placeholder infni04fjif">Location</label>
         </div>

         <div id="book_search_selector_lost_thing" data-value="none" style="display: flex; margin-bottom: 0.5em;">
            <button data-value="false" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event); list_books();"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-radius: 100em 0em 0em 100em;">Lost</button>
            <button data-value="true" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event); list_books();"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-left: 0; border-radius: 0em 100em 100em 0em;">Not
               Lost</button>
         </div>
         <div id="book_search_selector_scrapped_thing" data-value="none" style="display: flex; margin-bottom: 0.5em;">
            <button data-value="false" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event); list_books();"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-radius: 100em 0em 0em 100em;">Scrapped</button>
            <button data-value="true" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event); list_books();"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-left: 0; border-radius: 0em 100em 100em 0em;">Not
               Scrapped</button>
         </div>
         <div data-value="none" style="border-bottom: 2px dashed red; display: flex; margin-bottom: 0.5em;"> <button
               data-value="false" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event)"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-radius: 100em 0em 0em 100em;">Borrowing</button>
            <button data-value="true" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event)"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-left: 0; border-radius: 0em 100em 100em 0em;">In
               Shelf</button>
         </div>

         <div data-value="none" style="display: flex; margin-bottom: 1.3em;" id="search_books_id_type_select">
            <button data-value="false" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event); list_books();"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-radius: 100em 0em 0em 100em;">Old
               ID</button>
            <button data-value="true" data-state="false" class="segmented_button_button"
               onclick="segmented_button_thing(event); list_books()"
               style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-left: 0; border-radius: 0em 100em 100em 0em;">New
               ID</button>
         </div>

         <div data-pagenumber="1" id="page_number_changer_books" class="page_number_changer" style="display: none;">
            <button
               onclick="if (page_number_changer_books.dataset.pagenumber - 1 >= 1) {page_number_changer_books.dataset.pagenumber -= 1; list_books();}"
               class="button_circle" style="width: var(--button-size); height: var(--button-size); font-size: 1.5em;">
               <span class="material-symbols-outlined">
                  chevron_left
               </span>
            </button>
            <div id="tttttttt112"
               style="width: max-content; text-wrap: nowrap; margin: 0em auto; height: fit-content; font-size: 1.5em;">
               Page 0 of 0</div>
            <button
               onclick="if (page_number_changer_books.dataset.maxpages >= parseInt(page_number_changer_books.dataset.pagenumber)+1) {page_number_changer_books.dataset.pagenumber = parseInt(page_number_changer_books.dataset.pagenumber)+1; list_books();}"
               class="button_circle" style="width: var(--button-size); height: var(--button-size); font-size: 1.5em;">
               <span class="material-symbols-outlined">
                  navigate_next
               </span>
            </button>
         </div>

      </div>
      <div id="list_area" class="list_area panel">
         <div class="list_area_search">
            <div style="display: flex;">

               <span style="position: absolute; top: 0.55em; left: 0.6em; opacity: 0.7;"
                  class="material-symbols-outlined">search</span>
               <input type="text" class="main_search_bar" placeholder="Search Books" id="search_filter_input"
                  onchange="list_books()">



               <button onclick="tune_button_press_handler()" class="filter_button">
                  <span style="translate: 0; padding: 0;" class="material-symbols-outlined button_icon">
                     <div id="j5498j85t4954j9">tune</div>
                  </span>
               </button>
            </div>
            <div
               style=" height: 0em; overflow: hidden; transition: all 0.4s cubic-bezier(0.86, 0, 0, 1) 0s; background: var(--color-surface-1); border-radius: 0.5em; display: flex; justify-content: center; --color-surface-0: var(--color-surface-1); align-items: center;"
               id="list_area_search_filters">
               <button onclick="book_filter_picker.show()">Add Filter</button>
               <dialog id="book_filter_picker" style="height: 16.6em; width: 15em; top: 8.6em;">
                  <button></button>
               </dialog>
            </div>
         </div>
         <div class="list_area_list" id="list_area_list"></div>
      </div>
      <div id="display_area" class="display_area panel">
         <div class="display_area_quick_buttons">
            <button onclick="" style=" margin: 5px; border: 0; height: 40px; width: 40px;" class="button_circle">
               <span class="material-symbols-outlined">
                  arrow_back
               </span>
            </button>
            <div id="i9i9i9i9i9i9i9" style="display: flex; margin-left: auto;">
            </div>
         </div>


         <div style="display: none; padding: 2em;" id="display_panel_edit_details">
            <div style="margin-bottom: 1em;" class="input-container"> <input id="display_panel_book_title_editing"
                  type="text" class="input-google"> <label class="input_placeholder infni04fjif">Title</label> </div>
            <div style="margin-bottom: 1em;" class="input-container"> <input id="display_panel_book_author_editing"
                  type="text" class="input-google"> <label class="input_placeholder infni04fjif">Author</label>
            </div>
            <div
               style=" background-color: var(--color-surface-1); padding: 0.5em; flex-grow: 1; font-size: 1.2em; border-radius: 0.5em; margin-top: 0.2em; font-family: var(--the-font); display: flex; flex-direction: row; justify-content: space-between; margin-bottom: 1em;">
               <div
                  style="margin-right: 1em; display: flex;flex-direction: column;justify-content: center; font-family: 'roboto mono';">
                  <div style="text-wrap: nowrap;" id="display_panel_book_book_id_editing">ID: ----</div>
                  <div style="text-wrap: nowrap;" id="display_panel_book_legacy_book_id_editing">IDL: 00000</div>
               </div>
               <button id="j5498" onclick="migration_id_confirmation_dialog.showModal()"
                  style="width: fit-content; margin: auto; height: fit-content; letter-spacing: 0; margin-right: 0;">
                  Migrate to New ID </button>
            </div>
            <div style="margin-bottom: 1em;" class="input-container"> <input id="display_panel_book_isbn_editing"
                  type="text" class="input-google"> <label class="input_placeholder infni04fjif">ISBN</label> </div>
            <div style="margin-bottom: 1em; align-items: normal;" class="input-container"> <textarea
                  style="resize:none; font-size: 1.2em; height: 100px;" id="display_panel_book_description_editing"
                  type="text" class="input-google"></textarea> <label style="--translateamount: -1.15em;"
                  class="input_placeholder infni04fjif">Description</label> </div>
            <div style="margin-bottom: 1em;" class="input-container"> <input
                  id="display_panel_book_classification_label_editing" type="text" class="input-google"> <label
                  class="input_placeholder infni04fjif">Classification Label</label> </div>
            <div style="margin-bottom: 1em;" class="input-container">
               <select onchange="list_books()" style="width: 100%;" id="display_panel_book_level_editing" type="text"
                  class="input-google">
               </select>
               <label class="input_placeholder infni04fjif">Level</label>
            </div>
            <div style="margin-bottom: 1em; flex-basis: 8em;" class="input-container">
               <select id="display_panel_book_subject_editing" style="width: 100%;" type="text" class="input-google">
                  <optgroup style="font-size: 0;" id="kej0f4jj05___2" label=""></optgroup>
                  <optgroup style="font-size: 1px;" id="kj0f4jj05__2" label=""></optgroup>
                  <optgroup id="nv9tuni9_2" label="Resources"></optgroup>
               </select>
               <label class="input_placeholder infni04fjif">Subject</label>
            </div>

            <div style="margin-bottom: 0.8em; font-size: 1.4em;">
               <div style="display: flex; margin-bottom: 0.5em;">
                  <input onclick="display_panel_book_lost_scrapped_editing_handle()"
                     id="display_panel_book_scrapped_editing" type="checkbox">
                  <label style="margin-left: 0.3em;">Scrapped</label>
               </div>
               <div style="display: flex; margin-bottom: 0.5em;">
                  <input onclick="display_panel_book_lost_scrapped_editing_handle()"
                     id="display_panel_book_lost_editing" type="checkbox">
                  <label style="margin-left: 0.3em;">Lost</label>
               </div>
            </div>

            <!--
            <div data-onlyone="true" id="display_panel_book_lost_editing" data-value="none"
               style="display: flex; margin-bottom: 0.5em;">
               <button data-value="false" data-state="false" class="segmented_button_button"
                  onclick="segmented_button_thing(event)"
                  style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-radius: 100em 0em 0em 100em; width: 100%;">
                  Lost
               </button>
               <button data-value="true" data-state="false" class="segmented_button_button"
                  onclick="segmented_button_thing(event)"
                  style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-left: 0; border-radius: 0em 100em 100em 0em; width: 100%;">
                  Not Lost
               </button>
            </div>

            <div id="display_panel_book_scrapped_editing" data-onlyone="true" data-value="none"
               style="display: flex; margin-bottom: 1em;">
               <button data-value="false" data-state="false" class="segmented_button_button"
                  onclick="segmented_button_thing(event)"
                  style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-radius: 100em 0em 0em 100em; width: 100%;">
                  Scrapped
               </button>
               <button data-value="true" data-state="false" class="segmented_button_button"
                  onclick="segmented_button_thing(event)"
                  style="transition: 0.2s cubic-bezier(0.075, 0.82, 0.165, 1); border-left: 0; border-radius: 0em 100em 100em 0em; width: 100%;">
                  Not Scrapped
               </button>

            </div> -->

            <div style="margin-bottom: 1em;" class="input-container"> <input id="display_panel_book_price_editing"
                  type="number" min="0" autocomplete="off" class="input-google"> <label
                  class="input_placeholder infni04fjif">Price (EUR)</label>
            </div>

            <div style="margin-bottom: 1em;" class="input-container"> <input
                  id="display_panel_book_preview_url_override_editing" type="text" class="input-google"> <label
                  class="input_placeholder infni04fjif">Cover Image URL</label>
            </div>

         </div>
         <div style="display: none;" id="display_panel_details">
            <div class="display_panel_book_general">
               <div style=" margin: 0.5em; display: flex; flex-direction: column; justify-content: center;"> <img
                     id="display_panel_book_cover"
                     style=" object-fit: fill; padding: 0.2em; width: min(8em,30vw); height: -webkit-fill-available; background-color: var(--color-inverse-surface); border-radius: 0.6em;"
                     src="https://covers.openlibrary.org/b/isbn/978-0-330-40rr436-5-M.jpg"> </div>
               <div style=" padding: 0.5em; font-size: 1.1em; display: flex; flex-direction: column; width: 100%;">
                  <div id="display_panel_book_title" style="font-weight: bold; font-size: min(7vw, 2em);"> ----------
                  </div>
                  <div
                     style=" display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr;font-size: 0.9em;">
                     <div id="display_panel_book_author">by -----</div>
                  </div>
                  <div class="e00j430985t">
                     <div
                        style="background-color: var(--color-surface-1); padding: 0.5em; flex-grow: 1; border-radius: 0.5em; margin-top: 0.2em; font-family: var(--the-font); display: flex; flex-direction: column; justify-content: center;">
                        <div id="display_panel_book_classification_label" style="justify-self: end;">000.0 ---</div>
                        <div id="display_panel_book_isbn">ISBN: 0000000000000</div>
                        <div id="display_panel_book_book_id"> ID: ----</div>
                        <div id="display_panel_book_legacy_book_id">IDL: 00000</div>
                     </div>
                  </div>
               </div>
            </div>
            <div
               style=" display: flex; display: none; margin: 0.2em; border: 3px solid var(--color-surface-1); border-left: 0; border-right: 0;">
               <div style=" margin: 0.5em; display: flex; flex-direction: column; justify-content: center;"> <button
                     style=" object-fit: fill; padding: 0.2em; width: min(8.4em,31.7vw); height: 5em; border: 0.2em dashed var(--color-inverse-surface); border-radius: 0.6em; display: flex; justify-content: center; align-items: center; ">
                     <span style="user-select: none; font-size: 2em;" class="material-symbols-outlined"> person_add
                     </span> </button>
               </div>
               <div
                  style="padding: 0.5em; font-size: 1.1em; display: flex; flex-direction: column; justify-content: center;">
                  <div style="font-weight: bold; font-size: min(5vw, 1.3em); flex-direction: row; display: flex;">
                     Joe Esposito
                     <div style="font-weight: lighter;">&nbsp11.4</div>
                  </div>
                  <div
                     style=" width: fit-content; background-color: var(--color-surface-5); padding: 0.4em; border-radius: 0.4em; font-family: var(--the-font)">
                     <div class="tooltip">
                        <div style=" user-select: none; display: flex; font-size: min(4vw,1em); align-items: center;">
                           <div>ID: t2m</div>
                        </div>
                        <span id="copy_borrower_book_tooltip" class="tooltiptext">Copy</span>
                     </div>
                  </div>
               </div>
            </div>
            <div style="margin: 0.8em; margin-top: 0.5em;">
               Description
               <div id="display_panel_book_description"
                  style="padding: 0.5em; width: calc(100% - 1em); height: 5em; border-radius: 0.5em; background-color: var(--color-surface-1);">
                  ---------------
               </div>
            </div>
            <div id="display_panel_book_lost"
               style="display:none; margin: 0.8em; margin-top: 0.5em; margin-bottom: 0.3em;">
               <div
                  style="padding: 0.5em; width: calc(100% - 1em); border-radius: 0.5em; background-color: var(--color-primary-container);">
                  <span style="translate: 0 5px;" class="material-symbols-outlined"> warning </span>&nbsp Book marked
                  as lost
               </div>
            </div>
            <div id="display_panel_book_scrapped" style="display:none; margin: 0.8em; margin-top: 0em;">
               <div
                  style="padding: 0.5em; width: calc(100% - 1em); border-radius: 0.5em; background-color: var(--color-primary-container);">
                  <span style="translate: 0 5px;" class="material-symbols-outlined"> warning </span>&nbsp Book marked
                  as scrapped
               </div>
            </div>
            <div id="display_panel_book_price" style="display: none; margin: 0.8em; margin-top: 0.5em;"> Price: 5 EUR
            </div>
            <div id="display_panel_book_subject" style="margin: 0.8em; margin-top: 0.5em;"> Non-Feeection </div>
            <div id="display_panel_book_level" style="margin: 0.8em; margin-top: 0.5em;"> Greeeeen </div>
            <div id="display_panel_book_updated" style="margin: 0.8em; margin-top: 0.5em;"> Updated: 0000-00-00
               00:00:00.000Z
            </div>
            <div id="display_panel_book_created" style="margin: 0.8em; margin-top: 0.5em;"> Legacy Created:
               00/00/0000
            </div>
            <div id="display_panel_book_system_created" style="margin: 0.8em; margin-top: 0.5em; opacity: 0.5;">
               SYS_CREATED: 0000-00-00 00:00:00.000Z
            </div>
            <div id="display_panel_book_system_id" style="margin: 0.8em; margin-top: 0.5em; opacity: 0.5;"> SYS_ID:
               ---------------
            </div>
         </div>
      </div>
      <!---- <img id="imag" src="https://png.pngtree.com/png-clipart/20220111/original/pngtree-cigarette-png-image_7083753.png" style="display: none;"></img> <canvas id="book_cover_canvas" style="display: none;"></canvas> -->
   </div>




















   <div style="display: none;" id="container_borrower" class="container">
      <div id="list_area" class="list_area panel">
         <div class="list_area_search">
            <div style="display: flex;">
               <span style="position: absolute; top: 0.55em; left: 0.6em; opacity: 0.7;"
                  class="material-symbols-outlined">search</span>
               <input type="text" class="main_search_bar" placeholder="Search Borrowers"
                  id="search_filter_input_borrower" onchange="list_borrowers()">
            </div>
         </div>
         <div class="list_area_list" id="list_area_list_borrower"></div>
      </div>


      <div id="display_area_borrower" class="display_area panel">
         <div class="display_area_quick_buttons">
            <button onclick="swap_display_area_mode_borrower_to_none()"
               style=" margin: 5px; border: 0; height: 40px; width: 40px;" class="button_circle"> <span
                  class="material-symbols-outlined">arrow_back</span>
            </button>
            <button id="returnbutton54985t8_borrower"
               style="border: 0; margin: 5px; margin-right: 0; margin-left: auto;">
               <div id="returntextjinfo4_borrower">Return All</div>
            </button>
            <button id="edit_button_borrower" onclick="save_changes_handler_borrower(event)"
               style="margin: 5px; margin-right: 5px;">
               <div style="pointer-events: none;" id="edit_button_borrower_label">Edit</div>
            </button>
         </div>


         <div style="display: none; margin: 1em;" id="display_panel_details_borrower">

            <div style="display: flex; font-size: 2em; font-weight: bold;">
               <div id="dpdb_name"></div>
               <div id="dpdb_surname"></div>
            </div>

            <div style="    background-color: var(--color-surface-3);
                                                      border-radius: 0.4em;
                                                      padding: 0.5em;
                                                      font-size: 1.2em;
                                                      font-family: var(--the-robo-font);">
               <div id="dpdb_group"></div>
               <div id="dpdb_borrower_id"></div>
            </div>


            <div style="font-size: 1.3em; font-weight:bold; margin-top: 0.5em;">Currently borrowing books: </div>

            <div id="jfi4fijfifi54ijfi4"></div>

            <div style="border-top: solid var(--color-surface-5) 2px; display: flex; width: 100%;">
               <button id="dpdb_add_button" onclick="add_borrower_book_button_handler(event);"
                  style="width: fit-content; height: 2.6em; padding: 1.2em; margin-top: 0.4em;">
                  <span style="user-select: none; font-size: 1.5em; margin: 0.2em;"
                     class="button_icon material-symbols-outlined">
                     library_add
                  </span>
                  <div>
                     Lend book
                  </div>
               </button>
            </div>

            <div style="margin-top: 100%;" id="dpdb_created"></div>
            <div id="dpdb_updated"></div>
            <div id="dpdb_id" style="opacity: 0.5;"></div>
         </div>

         <div style="display: none; padding: 2em;" id="display_panel_edit_details_borrower">
            <div style="margin-bottom: 1em;" class="input-container">
               <input id="display_panel_borrower_name_editing" type="text" class="input-google">
               <label class="input_placeholder infni04fjif">Name</label>
            </div>
            <div style="margin-bottom: 1em;" class="input-container">
               <input id="display_panel_borrower_surname_editing" type="text" class="input-google">
               <label class="input_placeholder infni04fjif">
                  Surname
               </label>
            </div>
            <div
               style=" background-color: var(--color-surface-5); padding: 0.5em; flex-grow: 1; font-size: 1.2em; border-radius: 0.5em; margin-top: 0.2em; font-family: var(--the-font); display: flex; flex-direction: row; justify-content: space-between; margin-bottom: 1em;">
               <div style="font-family: 'roboto mono'; display: flex; flex-direction: column;justify-content: center;">
                  <div id="display_panel_borrower_borrower_id_editing">ID: </div>
               </div>
            </div>
            <div style="margin-bottom: 1em;" class="input-container">
               <select style="width: 100%;" id="display_panel_borrower_group_editing" type="text" class="input-google">
                  <option> </option>
               </select>
               <label class="input_placeholder infni04fjif">Group</label>
            </div>
            <button class="delete_forever_button no_ripple" id="delete_borrower_forever"
               style="border-radius: 100em; border: 0; width: fit-content; padding: 0.5em 1em;">
               <span class="button_icon material-symbols-outlined">
                  delete_forever
               </span>
               <div id="jfifi99">
                  Delete Record</div>
            </button>
         </div>
      </div>
   </div>
   <script src="app.js"></script>
</body>

</html>